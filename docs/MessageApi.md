# TrieveJsTsClient.MessageApi

All URIs are relative to *http://localhost:8090*

Method | HTTP request | Description
------------- | ------------- | -------------
[**createMessageCompletionHandler**](MessageApi.md#createMessageCompletionHandler) | **POST** /api/message | Create a message
[**editMessageHandler**](MessageApi.md#editMessageHandler) | **PUT** /api/message | Edit a message
[**getAllTopicMessages**](MessageApi.md#getAllTopicMessages) | **GET** /api/messages/{messages_topic_id} | Get all messages for a given topic
[**regenerateMessageHandler**](MessageApi.md#regenerateMessageHandler) | **DELETE** /api/message | Regenerate message



## createMessageCompletionHandler

> String createMessageCompletionHandler(tRDataset, createMessageData)

Create a message

Create a message  Create a message. Messages are attached to topics in order to coordinate memory of gen-AI chat sessions. We are considering refactoring this resource of the API soon. Currently, you can only send user messages. If the topic is a RAG topic then the response will include Chunks first on the stream. The structure will look like &#x60;[chunks]||mesage&#x60;. See docs.trieve.ai for more information.

### Example

```javascript
import TrieveJsTsClient from 'trieve-js-ts-client';
let defaultClient = TrieveJsTsClient.ApiClient.instance;
// Configure API key authorization: ApiKey
let ApiKey = defaultClient.authentications['ApiKey'];
ApiKey.apiKey = 'YOUR API KEY';
// Uncomment the following line to set a prefix for the API key, e.g. "Token" (defaults to null)
//ApiKey.apiKeyPrefix = 'Token';

let apiInstance = new TrieveJsTsClient.MessageApi();
let tRDataset = "tRDataset_example"; // String | The dataset id to use for the request
let createMessageData = new TrieveJsTsClient.CreateMessageData(); // CreateMessageData | JSON request payload to create a message completion
apiInstance.createMessageCompletionHandler(tRDataset, createMessageData, (error, data, response) => {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully. Returned data: ' + data);
  }
});
```

### Parameters


Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **tRDataset** | **String**| The dataset id to use for the request | 
 **createMessageData** | [**CreateMessageData**](CreateMessageData.md)| JSON request payload to create a message completion | 

### Return type

**String**

### Authorization

[ApiKey](../README.md#ApiKey)

### HTTP request headers

- **Content-Type**: application/json
- **Accept**: text/plain, application/json


## editMessageHandler

> editMessageHandler(tRDataset, editMessageData)

Edit a message

Edit a message  Edit a message which exists within the topic&#39;s chat history. This will delete the message and replace it with a new message. The new message will be generated by the AI based on the new content provided in the request body. The response will include Chunks first on the stream if the topic is using RAG. The structure will look like &#x60;[chunks]||mesage&#x60;. See docs.trieve.ai for more information.

### Example

```javascript
import TrieveJsTsClient from 'trieve-js-ts-client';
let defaultClient = TrieveJsTsClient.ApiClient.instance;
// Configure API key authorization: ApiKey
let ApiKey = defaultClient.authentications['ApiKey'];
ApiKey.apiKey = 'YOUR API KEY';
// Uncomment the following line to set a prefix for the API key, e.g. "Token" (defaults to null)
//ApiKey.apiKeyPrefix = 'Token';

let apiInstance = new TrieveJsTsClient.MessageApi();
let tRDataset = "tRDataset_example"; // String | The dataset id to use for the request
let editMessageData = new TrieveJsTsClient.EditMessageData(); // EditMessageData | JSON request payload to edit a message and get a new stream
apiInstance.editMessageHandler(tRDataset, editMessageData, (error, data, response) => {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully.');
  }
});
```

### Parameters


Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **tRDataset** | **String**| The dataset id to use for the request | 
 **editMessageData** | [**EditMessageData**](EditMessageData.md)| JSON request payload to edit a message and get a new stream | 

### Return type

null (empty response body)

### Authorization

[ApiKey](../README.md#ApiKey)

### HTTP request headers

- **Content-Type**: application/json
- **Accept**: application/json


## getAllTopicMessages

> [Message] getAllTopicMessages(tRDataset, messagesTopicId)

Get all messages for a given topic

Get all messages for a given topic  Get all messages for a given topic. If the topic is a RAG topic then the response will include Chunks first on each message. The structure will look like &#x60;[chunks]||mesage&#x60;. See docs.trieve.ai for more information.

### Example

```javascript
import TrieveJsTsClient from 'trieve-js-ts-client';
let defaultClient = TrieveJsTsClient.ApiClient.instance;
// Configure API key authorization: ApiKey
let ApiKey = defaultClient.authentications['ApiKey'];
ApiKey.apiKey = 'YOUR API KEY';
// Uncomment the following line to set a prefix for the API key, e.g. "Token" (defaults to null)
//ApiKey.apiKeyPrefix = 'Token';

let apiInstance = new TrieveJsTsClient.MessageApi();
let tRDataset = "tRDataset_example"; // String | The dataset id to use for the request
let messagesTopicId = "messagesTopicId_example"; // String | The ID of the topic to get messages for.
apiInstance.getAllTopicMessages(tRDataset, messagesTopicId, (error, data, response) => {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully. Returned data: ' + data);
  }
});
```

### Parameters


Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **tRDataset** | **String**| The dataset id to use for the request | 
 **messagesTopicId** | **String**| The ID of the topic to get messages for. | 

### Return type

[**[Message]**](Message.md)

### Authorization

[ApiKey](../README.md#ApiKey)

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: application/json


## regenerateMessageHandler

> String regenerateMessageHandler(tRDataset, regenerateMessageData)

Regenerate message

Regenerate message  Regenerate the assistant response to the last user message of a topic. This will delete the last message and replace it with a new message. The response will include Chunks first on the stream if the topic is using RAG. The structure will look like &#x60;[chunks]||mesage&#x60;. See docs.trieve.ai for more information.

### Example

```javascript
import TrieveJsTsClient from 'trieve-js-ts-client';
let defaultClient = TrieveJsTsClient.ApiClient.instance;
// Configure API key authorization: ApiKey
let ApiKey = defaultClient.authentications['ApiKey'];
ApiKey.apiKey = 'YOUR API KEY';
// Uncomment the following line to set a prefix for the API key, e.g. "Token" (defaults to null)
//ApiKey.apiKeyPrefix = 'Token';

let apiInstance = new TrieveJsTsClient.MessageApi();
let tRDataset = "tRDataset_example"; // String | The dataset id to use for the request
let regenerateMessageData = new TrieveJsTsClient.RegenerateMessageData(); // RegenerateMessageData | JSON request payload to delete an agent message then regenerate it in a strem
apiInstance.regenerateMessageHandler(tRDataset, regenerateMessageData, (error, data, response) => {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully. Returned data: ' + data);
  }
});
```

### Parameters


Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **tRDataset** | **String**| The dataset id to use for the request | 
 **regenerateMessageData** | [**RegenerateMessageData**](RegenerateMessageData.md)| JSON request payload to delete an agent message then regenerate it in a strem | 

### Return type

**String**

### Authorization

[ApiKey](../README.md#ApiKey)

### HTTP request headers

- **Content-Type**: application/json
- **Accept**: text/plain, application/json

